设计文档
====
## 个人信息
----
学号：19302010074<br>
姓名：张诗涵<br>
## 地址
----
Github地址：https://github.com/yoyazhang/My-webProject2<br>
## 项目完成情况
----
比较困难/值得将完成的心得和载过的坑分享的几个点：<br>
1. 二级联动的实现：总体来说就是。在浏览页和上传页的二级联动稍有不同，后者是把所有的城市和国家的名称、代号全部拉下来并展示、让用户选择；而后者则考虑到
那些没有任何图片的城市、国家用户搜索只会浪费时间、浪费感情，所以在从数据库拉数据时用的sql只选取了那些有图片的国家及其有图的部分城市，提高用户找到图片的效率。

2. 上传/修改功能：加载具体信息的主要问题是涉及二级联动的如何实现：；上传数据、对数据库内容更新时的问题在于：
3. 注册功能的有效性检查：
4. 详情页的收藏功能：用的是刷新的方式（很奇妙吧我也觉得），collected的按钮按下后js会将该页面的url之后加上status=0并重新加载（kudo按钮按下后status为1）

5. 收藏页的取消收藏功能：用的是ajax异步处理的方式。
6. 对二级联动中json传输中断问题的解决：把人口为0的城市删掉。理由：不然我写不完了
## bonus完成情况
----
1. 哈希加盐算法：
2. 前端类库使用心得：jquery；bootstrap:并没有使用特别多，主要是用了它的轮播图功能。

## 其他完成的功能
----
页码功能的完整实现：除了文档要求的以外，能完成不止实现前5页、根据总页数和当前的页数显示页码，并正确跳转、显示图片的功能。
根据总的页数决定输出的页码表的样子，如当前在第3页，并且总页数大于等于5，那么就会输出到首页、上一页、1、2、3、4、5页、下一页、到尾页的图标和链接。
如果总页数为4，则第五页的链接就不会有，而若总页数为8，当前页码为6，那么输出的就是4、5、6、7、8；基本的逻辑是保证当前页码在最中间、总的页码数量为
5个（即前后各两个）并设为红色字突出（别的页码为蓝色），为了保证尽量5个，在首页的话会考虑如果总页数大于3就会输出4的链接，大于4就输出5的链接，以此类推。

